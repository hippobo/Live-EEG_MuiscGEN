<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MIDI Sequence Generator and EEG Visualizer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style3js.css') }}">

 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/@magenta/music@^1.0.0"></script>

<script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>





 
 <script type="importmap">
     {
         "imports": {
             "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
             "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
         }
     }
    </script>


</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


    
    <ul class="nav nav-pills fill">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/">Demo</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/live_eeg">Live EEG</a>
        </li>
       
      </ul>

    <div class="container-fluid">
        
<div class = "midi_generator">
    <div>
        <input type="file" id="midiFileInput" accept=".mid,.midi" />
    </div>


    <button type="button" id="connectEEGButton" class="btn btn-primary" data-bs-target="#staticBackdrop">
        Connect EEG
        <div id="spinner" class="spinner-border spinner-border-sm" style="display: none;" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </button>
      <span id="successText" class="text-success visually-hidden">Successfully connected</span>
      
  

        <section id="section1">
            <h1>MIDI Sequence Generator</h1>
         
            <midi-player src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/twinkle_twinkle.mid" sound-font visualizer="#section1 midi-visualizer"></midi-player>
            <midi-visualizer id="player" type="piano-roll" src="https://cdn.jsdelivr.net/gh/cifkao/html-midi-player@2b12128/twinkle_twinkle.mid"></midi-visualizer>
        </section>

        <div id="controls">
          
            <br>
            
        
    


      
        <a href="#"id="downloadButton" style="display: none;">
            <button >Download MIDI Sequence</button>
        </a>
    </div>


    <div id="quadrants">
       <canvas id="canvas" width="450" height="450" style="border:5px solid #ffffff"></canvas>
       
    </div>



</div>

<div class="threejs">




 <div id="ThreeJsCanvas"></canvas>

 <!-- The import should happen after creating the other HTML elements since you will be importing them -->
<script src="{{ url_for('static', filename='live/music_generator_live.js') }}"></script>

 <script type="module" src="{{ url_for('static', filename='live/threejs_viz_live.js') }}"></script>


</div>

</div>

</div>
    






</body>


</html>